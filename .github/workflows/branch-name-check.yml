name: Branch Name Check

on:
  pull_request:
    types: [opened, edited, synchronize]

jobs:
  validate-branch-name:
    runs-on: ubuntu-latest
    steps:
      - name: Check branch name
        run: |
          echo "ğŸ” ãƒ–ãƒ©ãƒ³ãƒåã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™: ${{ github.head_ref }}"

          if [[ ! "${{ github.head_ref }}" =~ ^(feature|bugfix|hotfix|refactor|release|docs|chore)/[a-z0-9._-]+$ ]]; then
            echo "âŒ ãƒ–ãƒ©ãƒ³ãƒå '${{ github.head_ref }}' ã¯è¦å‰‡ã«å¾“ã£ã¦ã„ã¾ã›ã‚“ï¼"
            echo "ğŸ‘‰ å‘½åè¦å‰‡: (feature|bugfix|hotfix|refactor|release|docs|chore)/xxxx"
            echo "ä¾‹: feature/add-login, bugfix/fix-header-display"
            exit 1
          fi

          echo "âœ… ãƒ–ãƒ©ãƒ³ãƒå '${{ github.head_ref }}' ã¯è¦å‰‡ã«å¾“ã£ã¦ã„ã¾ã™ï¼"
          echo "ğŸ”„ ãƒ–ãƒ©ãƒ³ãƒåã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚"
